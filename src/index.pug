doctype html
html(lang="id")
	head
		meta(charset='utf-8')
		meta(http-equiv='x-ua-compatible', content='ie=edge')
		meta(name="viewport", content="initial-scale=1, minimum-scale=1, maximum-scale=7, user-scalable=yes, width=device-width, shrink-to-fit=no")
		link(rel='preconnect dns-prefetch', href='https://www.google-analytics.com'  crossorigin="")
		title PHPID Online Learning 2020

		meta(name='description', content='Daftar online learning yang diadakan oleh PHPID community')
		meta(property='og:site_name', content='PHPID')
		meta(property='og:type', content='website')
		meta(property='og:title', content='PHPID Online Learning 2020')
		meta(property='og:description', content='Daftar online learning yang diadakan oleh PHPID community')
		meta(property='og:url', content='https://phpid-jakarta.github.io/phpid-online-learning-2020/')
		meta(property='og:image', content='../meta-image.png')
		meta(property='og:image:width', content='1200')
		meta(property='og:image:height', content='630')
		meta(property='article:publisher', content='https://www.facebook.com/groups/phpid/')

		meta(name='twitter:card', content='summary_large_image')
		meta(name='twitter:title', content='PHPID Online Learning 2020')
		meta(name='twitter:description', content='Daftar online learning yang diadakan oleh PHPID community')
		meta(name='twitter:url', content='https://phpid-jakarta.github.io/phpid-online-learning-2020/')
		meta(name='twitter:image', content='../meta-image.png')
		meta(name='twitter:site', content='PHPID')

		link(rel='apple-touch-icon', sizes='57x57', href='./favicon/apple-icon-57x57.png')
		link(rel='apple-touch-icon', sizes='60x60', href='./favicon/apple-icon-60x60.png')
		link(rel='apple-touch-icon', sizes='72x72', href='./favicon/apple-icon-72x72.png')
		link(rel='apple-touch-icon', sizes='76x76', href='./favicon/apple-icon-76x76.png')
		link(rel='apple-touch-icon', sizes='114x114', href='./favicon/apple-icon-114x114.png')
		link(rel='apple-touch-icon', sizes='120x120', href='./favicon/apple-icon-120x120.png')
		link(rel='apple-touch-icon', sizes='144x144', href='./favicon/apple-icon-144x144.png')
		link(rel='apple-touch-icon', sizes='152x152', href='./favicon/apple-icon-152x152.png')
		link(rel='apple-touch-icon', sizes='180x180', href='./favicon/apple-icon-180x180.png')
		link(rel='icon', type='image/png', sizes='192x192', href='./favicon/android-icon-192x192.png')

		link(rel='icon', type='image/png', sizes='32x32', href='./favicon/favicon-32x32.png')
		link(rel='icon', type='image/png', sizes='96x96', href='./favicon/favicon-96x96.png')
		link(rel='icon', type='image/png', sizes='16x16', href='./favicon/favicon-16x16.png')

		meta(name='msapplication-TileColor', content='#212121')
		meta(name='msapplication-TileImage', content='./favicon/ms-icon-144x144.png')
		meta(name='theme-color', content='#212121')


		script#ld-website(type='application/ld+json').
			{"@context":"http://schema.org","@type":"WebSite","url":"https://phpid-jakarta.github.io/phpid-online-learning-2020/","description":"Daftar online learning yang diadakan oleh PHPID community","image":"../meta-image.png","thumbnailUrl":"../meta-image.png","name":"PHPID","sameAs":["https://www.facebook.com/groups/phpid"]}
		script#ld-org(type='application/ld+json').
			{"@context":"https://schema.org","@type":"Organization","name":"PHPID","logo":{"@type":"ImageObject","url":"../meta-image.png"}}

		// Global site tag (gtag.js) - Google Analytics
		script(async="" src="https://www.googletagmanager.com/gtag/js?id=UA-97096911-1")
		script.
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());
			gtag('config', 'UA-97096911-1');

		style.
			body, html {
				height: 100%;
				margin: 0;
				scroll-behavior:smooth;
			}
			a {
				background-image:none;
			}
			.hero-image {
				min-height: 100vh;
				background: url('./bg-hero.png');
				background-position: center center;
				background-repeat: no-repeat;
				background-size: 500px;
				position: relative;
				background-color: #212121;
			}
			.hero-text {
				text-align: center;
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				color: white;
			}
			.hero-text h1 {
				font-size: 2.5rem;
				margin: 0 0 0 0;
			}
			.hero-text h1 span{
				font-weight: normal;
			}
			.hero-text h2{
				font-size: 2rem;
				margin: 0 0 2rem 0;
			}
			.hero-text button {
				border: none;
				outline: 0;
				display: inline-block;
				padding: 10px 25px;
				color: black;
				background-color: #ddd;
				text-align: center;
				cursor: pointer;
			}
			.hero-text button:hover {
				background-color: #555;
				color: white;
			}
			.hero-arrow {
				position: absolute;
				bottom: 20px;
				display: flex;
				width: 100%;
				justify-content:center;
				align-items: center;
				flex-direction: column;
				color:white;
			}
			.hero-arrow a {
				text-decoration: none;
			}
			.hero-arrow button {
				border-color:white;
				color:white;
				margin-top:20px;
			}

		link(rel="stylesheet", href="./paper.min.css")
		link(rel="stylesheet", href="./animate.min.css")
	body
		.hero-image
			.hero-text
				h1.animate__animated.animate__bounce PHPID Online Learning
				h2.animate__animated.animate__bounce 2020
				a(href="https://github.com/phpid-jakarta/phpid-online-learning-2020/", target="_blank", rel="noopener", title="Github")
					button.animate__animated.animate__bounceIn Github Repository
			.hero-arrow
				span.animate__animated.animate__bounceIn.animate__delay-1s Lihat Semua Pemateri
				a(href="#content-speaker")
					button.animate__animated.animate__bounceIn.animate__delay-1s &darr;

		div.row.flex-center#content-speaker
			each val, index in d.data
				.margin.card(style='width: 20rem;')
					img.lazyload(data-src=val.cover, src="https://github.com/phpid-jakarta/phpid-online-learning-2020/raw/master/cover/default.jpg", loading="lazy" alt=val.topic)
					.card-body
						span.badge.secondary(style="margin-right: .5em;")=val.date
						span.badge.success=val.time + ' WIB'
						h4.card-title=val.topic
						h5.card-subtitle=val.speaker
						p.card-text
						if val.videos[0] && val.videos[0] !== 'empty'
							a(href=val.videos[0], target="_blank", rel="noopener", style="background-image: none", title="Video")
								button.btn-secondary Tonton Video
						else if val.registrasi && val.registrasi !== 'empty'
							a(href=val.registrasi, target="_blank", rel="noopener", style="background-image: none", title="Registrasi")
								button.btn-warning Registrasi
						if val.slide && val.slide !== 'empty'
							a(href=val.slide, target="_blank", rel="noopener", style="background-image: none", title="Slide")
								button.btn-success Lihat Slide
		footer.row.flex-center.margin
			.text-center
				span
				| Menemukan bug? atau ingin berkontribusi?
				| kunjungi&nbsp;
				a(href="https://github.com/phpid-jakarta/phpid-online-learning-2020/", target="_blank", rel="noopener", title="Github") Github repository
		footer.row.flex-center
			.text-center
				span Crafted with ❤️ by PHPID Dev Teams, © 2020

		script.
			if ('loading' in HTMLImageElement.prototype) {
				if ('IntersectionObserver' in window){
					const heroImage = document.querySelector('.hero-image')
					const cards = document.querySelectorAll('.card')
					const iobs = new IntersectionObserver((entries, observe)=>{
						entries.forEach(entry => {
							if(entry.isIntersecting){
								if(entry.target.classList == 'hero-image'){
									window.scrollTo({behavior: "smooth", top:0});
								} else {
									let card = entry.target
									let img = entry.target.childNodes[0]
									img.src = img.dataset.src
									card.classList.add("animate__animated")
									card.classList.add("animate__zoomIn")
									img.classList.remove('lazyload')
									iobs.unobserve(card)
								}
							}
						})
					})
					iobs.observe(heroImage)
					cards.forEach(card => iobs.observe(card))
				} else {
					const images = document.querySelectorAll("img.lazyload");
					images.forEach(img => {
						img.src = img.dataset.src;
					});
				}
			} else {
				// Dynamically import the LazySizes library
				let script = document.createElement("script");
				script.async = true;
				script.src = "https://cdnjs.cloudflare.com/ajax/libs/lazysizes/4.1.8/lazysizes.min.js";
				document.body.appendChild(script);
			}
